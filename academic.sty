\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{academic}[2017/08/19, v3.0 Author: Daniel Ortega
Do not distribute source file]

% USED PACKAGES & HYPERSETUP ...
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage[usenames,dvipsnames]{xcolor}         % Para usar y definir colores.
  \usepackage[spanish]{babel}   % spanish, english
  \usepackage{cmbright}		    % Font: arev, cmbright, pxfonts.
  \usepackage{fancyhdr}		    % Header & Footer Management
  \usepackage{graphicx}		    % Image Management
  \usepackage{wallpaper}	    % Image background Management
  \usepackage{marvosym} 	    % Simbols.
  \usepackage{wasysym}
  %\usepackage{color} 		    % Color Definitions.
  \usepackage[Sonny]{fncychap}	% Chapter Management: Sonny, Lenny, Glenn, Conny, Rejne, Bjarne. 
  \usepackage{listings}	        % Code Syntax	
  \usepackage{comment}		    % Coment Environment
  \usepackage{longtable}	    % Using Long Table
  %\usepackage{makecell}         % 
  \usepackage{colortbl}         % 
  \usepackage{float}            % 
  \usepackage{enumitem}		    % For Listing
  \usepackage{multicol}		    % Multicolumn Environment
	\setlength{\columnsep}{0.5cm}

  \usepackage[hmargin=2cm,vmargin=3.5cm, head=2cm]{geometry} % Text Margin Management
  \usepackage[pdftex,bookmarks,colorlinks]{hyperref}
    \hypersetup{linkcolor=color:link,citecolor=secundario}
    
  \usepackage{tikz} % http://texample.net/tikz/examples/
    \usetikzlibrary{mindmap,trees} %arrow,automata
    \usetikzlibrary{arrows}

% COLOR DEFINICIÓN

  \definecolor{color:first}{rgb}{  0.1, 0.3, 0.7}  % azul
  \definecolor{color:second}{rgb}{ 0.2, 0.2, 0.2}  % negro
  \definecolor{color:section}{rgb}{0.1, 0.3, 0.7}  % azul
  \definecolor{color:link}{rgb}{   0.1, 0.3, 0.7}  % azul
  \definecolor{color:alert}{rgb}{  0.8, 0.1, 0.0}  % red
  \definecolor{code:green}{rgb}{   0.0, 0.5, 0.0}  % green
  \definecolor{secundario}{rgb}{   0.45,0.45,0.45} % grey
  \definecolor{color:light}{rgb}{  0.91,0.96,0.99} % light blue

% HEADER % FOOTER MANAGEMENT

  \pagestyle{fancy}
  \fancyhead[LE]{\includegraphics[width=0.1\textwidth]{images/ipn-escom}\\}
  \fancyhead[RO]{\includegraphics[width=0.1\textwidth]{images/ipn-escom}\\}
  %\fancyhead[RE,LO]{} 
  %\fancyfoot[RO,LE]{\footnotesize\thepage}
  %\fancyfoot[CO,CE]{\tiny\color{color:second} Address, PostalCode, telefono, email}
      
% MAIN PAGE COMMANDS

  \newcommand{\varSubTitle}{}
  \newcommand{\subtitle}[1]{\renewcommand{\varSubTitle}{#1}}

  \newcommand{\varTitle}[1]{} \let\varTitle=\title
  \renewcommand{\title}[1]{\varTitle{{\fontsize{30pt}{30pt}\color{color:first}\bf #1}\\%bigskip\\
		{\LARGE \color{color:second}\varSubTitle}~{}\bigskip\\
        \color{color:section}\rule{\textwidth}{1mm}}}

  \newcommand{\varOrganization}{}
  \newcommand{\organization}[1]{\renewcommand{\varOrganization}{#1}}

  \newcommand{\varAuthor}[1]{} \let\varAuthor=\author
  \renewcommand{\author}[1]{\varAuthor{\bf\color{color:link}#1\\
  		\color{color:second}\varOrganization}}

% OTHER COMMANDS 

  \ChTitleVar{\Large\sf\color{color:section}}
  \ChNameVar{\Large\sf\color{color:section}}

  \let\LaTeX@startsection\@startsection
  \renewcommand{\@startsection}[6]{\LaTeX@startsection%
  {#1}{#2}{#3}{#4}{#5}{\color{color:section}\raggedright #6}} 

% ORGANIZATION COMMANDS

  \newcommand{\varPart}[1]{} \let\varPart=\part
  \renewcommand{\part}[1]{{\color{color:section}\varPart{#1}}}

% TABLES ITEMIZA DEFINITION

  \renewcommand{\labelitemi}{\color{color:section}\textbullet}
  \newenvironment{Titemize}{\vspace{-1em}\setlength{\leftskip}{0.5em}}{\vspace{-1em}\paragraph{}}
  \newcommand{\Titem}[1]{\par{\color{color:first}%{\textbullet\hspace{2pt}}}#1\newline}
  {\textbullet}}\ #1\par}

  \newenvironment{CUTitemize}{
  \vspace{0em}\setlength{\leftskip}{0.5em}
  }
  {\vspace{-1em}
  \paragraph{}}
  
  \newcommand{\CUTitem}[1][\textbullet\hspace{2pt}]{
      \par{\color{color:first}{#1}}}
    
    
% CREATED COMMANDS

	\newcommand{\email}[1]{\color{color:link}\textit{#1}}
	\newcommand{\bb}[1]{\textbf{\color{color:link}#1}}
	\newcommand{\bu}[1]{{\color{color:section}#1}}
	\newcommand{\deprecated}{{\color{color:alert}\bf Deprecated!}}

	\newcommand{\addfigure}[5][]{
        \begin{figure}[htbp!]
            \begin{center}
                %\fbox{
                \includegraphics[width=#2\textwidth]{#3}
                %}
                \caption{#5}
                \label{#4}
                \small{#1}
            \end{center}
        \end{figure}
   	}
   	
   	\newcommand{\addfigureScaleAndAangle}[5]{
        \begin{figure}[htbp!]
            \begin{center}
                \fbox{
                \includegraphics[scale=#1,angle=#2]{#3}
                }
                \caption{#5}
                \label{#4}
            \end{center}
        \end{figure}
   	}
    
    \newcommand{\addfigureB}[4]{
        \begin{figure}[htbp!]
            \begin{center}
           \fbox{\includegraphics[width=#1\textwidth]{#2}}
                \caption{#4}
                \label{#3}
            \end{center}
        \end{figure}
   	}
   	
   	\newcommand{\addtable}[4]{
		\begin{table}[hbtp!]
	    	\centering
			\begin{tabular}{#1} \hline
					#3 %\hline
				\end{tabular}
			\caption{#4}
			\label{#2} 
		\end{table}
	}
    
    \newcommand{\addlongtable}[4]{
        \begin{longtable}{#1}
	     	\caption{#4}
			\label{#2} \hline
            #3 \hline
		\end{longtable}
	}

% CODING COMMANDS
    
    \newcommand{\setSyntaxCodeC}{
    	\lstset{language=C++,
                  keywordstyle=\color{blue},
                  stringstyle=\color{orange},
                  commentstyle=\color{gray},
                  morecomment=[l][\color{code:green}]{\#}
      }
    }
    
    \newcommand{\setSyntaxCodeSQL}{
    	\lstset{language=SQL,
                  keywordstyle=\color{blue},
                  stringstyle=\color{orange},
                  commentstyle=\color{gray},
                  morecomment=[l][\color{code:green}]{\#}
      }
    }
    
    \newcommand{\setSyntaxCodeJAVA}{
    	\lstset{language=JAVA,
                  keywordstyle=\color{blue},
                  stringstyle=\color{orange},
                  commentstyle=\color{gray},
                  morecomment=[l][\color{code:green}]{\#}
      }
    }
    
% \lstset documentation	http://texdoc.net/texmf-dist/doc/latex/listings/listings.pdf
% 						https://en.wikibooks.org/wiki/LaTeX/Source_Code_Listings
    
    \newcommand{\bussinessRule}[2]{
    	\subsection{#1 #2}
    	\label{#1}
    	\noindent{\large \textbf{Regla de negocio:} #1 #2}
    }

    \newenvironment{UseCase}[3]{
    	\subsection*{#1 #2}\label{#1}%
    	#3
        \begin{longtable}{|p{.17\textwidth}|p{.75\textwidth}|}
            \rowcolor{black}
            \multicolumn{2}{|c|}{\bf\color{white}#1 #2}\\\hline
    	}{
	    \end{longtable}%\vspace{-0.7cm}
    }

    \newcommand{\UCrow}[2]{ {\bf #1} & #2 \\\hline }
    \newcommand{\tblrow}[3]{{\bf #1}& #2& #3 \\\hline}

    \newenvironment{UCtrayectoria}[2][]{%
    	\noindent\bb{ Trayectoria #2:} #1
    	\renewcommand{\labelenumi}{\textcolor{black}{\bf \theenumi}}
    	\begin{enumerate}\addtolength{\itemsep}{-0.2\baselineskip}
    }{      \item[] 
    	\end{enumerate}
    	\renewcommand{\labelenumi}{\theenumi}
    }

    \newcommand{\actor}{\item\includegraphics[height=10pt]{images/actor}\ }
    \newcommand{\sistema}{\item\includegraphics[height=10pt]{images/sistema}\ }
    \newcommand{\moodle}{\item\includegraphics[height=8pt]{images/m-icon}\ }
    \newcommand{\IUref}[2][]{\nameref{#2}#1}
    
    \newcommand{\UCnote}[1]{{\color{gray}\em ({#1})}}
    
    \newcommand{\hyperrefx}[1]{%
        \hyperref[#1]{\ref*{#1} \nameref*{#1}}%
    }
    
% GAMIFICACION MACROS 

\def\TituloTT{Gamificación en una plataforma Web de Aprendizaje}
\def\TituloProy{Gamedle}

\def\principioIx{Epic Meaning \& Calling\ }
\def\principioIIx{Development \& Accomplishment\ }
\def\principioIIIx{Empowerment of Creativity \& FeedBack\ }
\def\principioIVx{OwnerShip \& Posession\ }
\def\principioVx{Social Influence \& Relateness\ }
\def\principioVIx{Scarcity \& Impatience\ }
\def\principioVIIx{Unpredictability \& Curiosity\ }
\def\principioVIIIx{Loss \& Avoidance\ }

\def\principioI{\principioIx (Diferenciación y Pertenencia)\ }
\def\principioII{\principioIIx (Desarrollo y Recompensa)\ }
\def\principioIII{\principioIIIx (Descubrimiento y Retroalimentación)\ }
\def\principioIV{\principioIVx (Personalización)\ }
\def\principioV{\principioVx (Motivo e Impulso Social)\ }
\def\principioVI{\principioVIx (Codicia)\ }
\def\principioVII{\principioVIIx (Impredecibilidad y Curiosidad)\ }
\def\principioVIII{\principioVIIIx (Miedo a la Pérdida)\ }
    
    
\newenvironment{Entidad}[2]{%
    \subsection*{Tabla gmdl\_#1}
    {#2}
    \begin{center}
    \begin{tabular}{| m{0.12\textwidth} | m{0.14\textwidth} | m{0.2\textwidth} | m{0.3\textwidth} | m{0.1\textwidth} |}\hline
    {\bf Atributo} & {\bf Tipo} & {\bf Descripción} & {\bf Restricciones} & {\bf Módulo} \\\hline
}{%
    \end{tabular}% 
    \end{center}%
}

\newcommand{\attr}[5]{%
    \begin{center}#1\end{center}& {#2}& {#3}& {\begin{Titemize}#4\end{Titemize}}& \begin{center}#5\end{center}\\\hline
}

\newcommand{\attrG}[5]{ \begin{center}gmdl\_\par#1\end{center}& {#2}& {#3}& {\begin{Titemize}#4\end{Titemize}}& {\begin{center}#5\end{center}}\\\hline}

\newcommand{\attrM}[5]{ \begin{center}mdl\_\par#1\end{center}&  {#2}& {#3}& {\begin{Titemize}#4\end{Titemize}}& {\begin{center}#5\end{center}}\\\hline}

% Shortcuty \backlash macro
\newcommand{\bs}{$\backslash$}

\newenvironment{glosario}[1]{
    \section*{#1}
    \begin{quote}
    \begin{description}
}{
    \end{description}
    \end{quote}
}


%\newcounter{theUserStory}
%\setcounter{theUserStory}{1}
\newenvironment{UserStory}[3]{%
    \phantomsection
    \noindent\bb{\large\fbox{\bf US-#1} #2}\\\\#3\\\\
    \addtocounter{subsection}{1}
    \addcontentsline{toc}{subsection}{\arabic{chapter}.\arabic{section}.\arabic{subsection}. ~~ US-#1 #2}
    %\noindent\bb{\large\fbox{\bf US-\arabic{theUserStory}} #1}\\\\%
    \noindent\bb{Criterio de Aceptación}%
    \begin{center}
    \begin{tabular}{c|p{0.8\textwidth}}
        {\bf Estado} & {\bf Descripción}\\\hline
}{
    \end{tabular}
    \end{center}%\stepcounter{theUserStory}
    \hfill\par\bigskip\bigskip
}

\gdef\done{\CheckedBox}
\gdef\todo{\Square}
\newcommand{\criteria}[2][\todo]{\Large#1 & #2 \\ }